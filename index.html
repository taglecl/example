<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¡Sé el primero en saberlo!</title>
    <!-- Incluimos Tailwind CSS para un diseño limpio y moderno -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* bg-gray-900 */
        }
        /* Estilo para el estado de carga del botón */
        .sending {
            cursor: not-allowed;
            background-color: #4f46e5; /* bg-indigo-700 */
            opacity: 0.7;
        }
        /* Estilo para el mensaje de feedback */
        #feedbackMessage {
            transition: opacity 0.5s ease-in-out, transform 0.3s ease-in-out;
        }
    </style>
</head>
<body class="text-gray-300 flex flex-col items-center justify-center min-h-screen p-4">

    <main class="w-full max-w-2xl mx-auto bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-2xl shadow-2xl shadow-indigo-500/10 p-6 md:p-10 space-y-8">
        
        <!-- Título principal con gradiente -->
        <div class="text-center">
            <h1 class="text-4xl md:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-pink-500">
                Sé el primero en saberlo.
            </h1>
            <p class="mt-2 text-gray-400">Recibe noticias exclusivas de la app que está por llegar.</p>
        </div>

        <!-- Formulario de registro -->
        <div class="bg-gray-900/50 border border-gray-700 p-6 rounded-xl">
            <form id="contactForm" class="space-y-4">
                <div>
                    <label for="name" class="block text-sm font-medium text-gray-400">Tu Nombre</label>
                    <input type="text" id="name" name="name" required class="mt-1 block w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-md shadow-sm text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition">
                </div>
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-400">Tu Correo Electrónico</label>
                    <input type="email" id="email" name="email" required class="mt-1 block w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-md shadow-sm text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition">
                </div>
                <button type="submit" id="submitButton" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-indigo-500 transform hover:scale-105 transition-all duration-300">
                    Avisadme
                </button>
            </form>
            <!-- Mensaje de confirmación o error -->
            <div id="feedbackMessage" class="mt-4 text-center text-sm font-medium opacity-0 transform translate-y-2"></div>
        </div>

        <!-- Imagen del Post de Threads -->
        <div class="w-full flex flex-col items-center space-y-4 pt-4">
             <h2 class="text-xl font-semibold text-gray-200">El post que lo inició todo</h2>
             <a href="https://www.threads.net/post/DOjLYfEjGDV" target="_blank" rel="noopener noreferrer" class="block rounded-xl overflow-hidden shadow-lg hover:shadow-indigo-500/40 transition-all duration-300 transform hover:scale-105">
                <img 
                    src="https://i.ibb.co/DHr03JPR/Captura-de-pantalla-2025-09-14-a-la-s-6-08-15-p-m.png" 
                    alt="Captura de pantalla del post de Threads de eugekellertech" 
                    class="max-w-full h-auto"
                    onerror="this.style.display='none'; this.parentElement.insertAdjacentHTML('afterend', '<div class=\'text-center p-4 text-red-400\'>No se pudo cargar la imagen.</div>')"
                >
             </a>
        </div>

    </main>

    <!-- Pie de página mejorado -->
    <footer class="w-full max-w-2xl mx-auto text-center mt-10 py-6 border-t border-gray-700/50">
        <p class="text-gray-500 text-sm">&copy; 2025 <span class="font-semibold text-gray-400">@eugekellertech</span>. Todos los derechos reservados.</p>
    </footer>

    <script>
        // --- INICIO DE LA LÓGICA DEL FORMULARIO ---

        const form = document.getElementById('contactForm');
        const submitButton = document.getElementById('submitButton');
        const feedbackMessage = document.getElementById('feedbackMessage');

        // ===================================================================================
        // ¡ATENCIÓN IMPLEMENTADOR! 
        // Pega aquí la URL que generaste en Google Apps Script.
        // El formulario enviará los datos a esta URL.
        // Sigue las instrucciones del archivo 'instrucciones.md' o 'README.md' para obtenerla.
        // ===================================================================================
        const SCRIPT_URL = 'URL_DE_TU_GOOGLE_APPS_SCRIPT_AQUI'; 

        form.addEventListener('submit', function(e) {
            e.preventDefault(); // Evitamos que la página se recargue

            // Validamos que la URL haya sido reemplazada
            if (SCRIPT_URL === 'URL_DE_TU_GOOGLE_APPS_SCRIPT_AQUI' || SCRIPT_URL === '') {
                console.error('Error: La URL de Google Apps Script no ha sido configurada.');
                showFeedback('Error de configuración. Contacta al administrador.', false);
                return;
            }

            // Mostramos un estado de carga en el botón
            submitButton.disabled = true;
            submitButton.textContent = 'Enviando...';
            submitButton.classList.add('sending');

            // Creamos un objeto con los datos del formulario
            const formData = new FormData(form);

            // Usamos fetch para enviar los datos a Google Apps Script
            fetch(SCRIPT_URL, {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.result === 'success') {
                    showFeedback('¡Gracias! Tus datos han sido enviados.', true);
                    form.reset(); // Limpiamos el formulario
                } else {
                    // Si Google Apps Script devuelve un error, lo mostramos
                    throw new Error(data.error || 'Ocurrió un error desconocido.');
                }
            })
            .catch(error => {
                // Si hay un error de red o en la promesa
                console.error('Error al enviar el formulario:', error);
                showFeedback('Hubo un problema al enviar tus datos. Inténtalo de nuevo.', false);
            })
            .finally(() => {
                // Restablecemos el botón a su estado original
                submitButton.disabled = false;
                submitButton.textContent = 'Avisadme';
                submitButton.classList.remove('sending');
            });
        });

        // Función para mostrar mensajes al usuario
        function showFeedback(message, isSuccess) {
            feedbackMessage.textContent = message;
            feedbackMessage.className = `mt-4 text-center text-sm font-medium ${isSuccess ? 'text-green-400' : 'text-red-400'}`;
            feedbackMessage.style.opacity = '1';
            feedbackMessage.style.transform = 'translateY(0)';

            // Ocultamos el mensaje después de 5 segundos
            setTimeout(() => {
                feedbackMessage.style.opacity = '0';
                feedbackMessage.style.transform = 'translateY(0.5rem)';
            }, 5000);
        }

        // --- FIN DE LA LÓGICA DEL FORMULARIO ---
    </script>

</body>
</html>

